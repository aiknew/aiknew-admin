model UploadFileGroup {
  id          String                @id @default(ulid())
  groupName   String                @db.VarChar(50)
  parentId    String?
  order       Int                   @default(10)
  createdAt   DateTime              @default(now())
  updatedAt   DateTime              @updatedAt
  ancestors   UploadFileGroupPath[] @relation("PathDescendant")
  descendants UploadFileGroupPath[] @relation("PathAncestor")

  @@unique([groupName, parentId])
}

model UploadFileGroupPath {
  ancestor     UploadFileGroup @relation("PathAncestor", fields: [ancestorId], references: [id])
  ancestorId   String
  descendant   UploadFileGroup @relation("PathDescendant", fields: [descendantId], references: [id])
  descendantId String
  depth        Int

  @@id([ancestorId, descendantId])
}
